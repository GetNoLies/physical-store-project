!function(t){"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define(t):"undefined"!=typeof window?window.osrm=t():"undefined"!=typeof global?global.osrm=t():"undefined"!=typeof self&&(self.osrm=t())}(function(){return function t(n,e,o){function i(s,u){if(!e[s]){if(!n[s]){var a="function"==typeof require&&require;if(!u&&a)return a(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+s+"'")}var f=e[s]={exports:{}};n[s][0].call(f.exports,function(t){var e=n[s][1][t];return i(e?e:t)},f,f.exports,t,n,e,o)}return e[s].exports}for(var r="function"==typeof require&&require,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(t,n){function e(t,n,e){function o(t){return t>=200&&300>t||304===t}function i(){void 0===u.status||o(u.status)?n.call(u,null,u):n.call(u,u,null)}var r=!1;if("undefined"==typeof window.XMLHttpRequest)return n(Error("Browser not supported"));if("undefined"==typeof e){var s=t.match(/^\s*https?:\/\/[^\/]*/);e=s&&s[0]!==location.protocol+"//"+location.domain+(location.port?":"+location.port:"")}var u=new window.XMLHttpRequest;if(e&&!("withCredentials"in u)){u=new window.XDomainRequest;var a=n;n=function(){if(r)a.apply(this,arguments);else{var t=this,n=arguments;setTimeout(function(){a.apply(t,n)},0)}}}return"onload"in u?u.onload=i:u.onreadystatechange=function(){4===u.readyState&&i()},u.onerror=function(t){n.call(this,t||!0,null),n=function(){}},u.onprogress=function(){},u.ontimeout=function(t){n.call(this,t,null),n=function(){}},u.onabort=function(t){n.call(this,t,null),n=function(){}},u.open("GET",t,!0),u.send(null),r=!0,u}"undefined"!=typeof n&&(n.exports=e)},{}],2:[function(t,n){function e(t){this._url=t||"//router.project-osrm.org",this._lastSend=0,this._lastReceived=0}var o=t("corslite");e.prototype={_formatLocs:function(t){return"loc="+t.map(function(t){return t[0]+","+t[1]}).join("&loc=")},_formatStampedLocs:function(t,n){var e=t.map(function(t,e){return[t[0]+","+t[1],n[e]]});return"loc="+e.map(function(t){return t.join("&t=")}).join("&loc=")},_onResponse:function(t,n,e){if(t)return void e(t);var o=JSON.parse(n.responseText);e(null,o)},_request:function(t,n,e){var i=this._url+"/"+t+"?"+n,r=this._lastSend++;o(i,function(t,n){r<this._lastReceived||(this._lastReceived=r,this._onResponse(t,n,e))}.bind(this))},locate:function(t,n){this._request("locate",this._formatLocs([t]),n)},nearest:function(t,n){this._request("nearest",this._formatLocs([t]),n)},match:function(t,n){t.timestamps?(t.timestamps.length!=t.coordinates.length&&n(new Error("Invalid number of timestamps! Is "+t.timestamps.length+" should be: "+t.length)),this._request("match",this._formatStampedLocs(t.coordinates,t.timestamps),n)):this._request("match",this._formatLocs(t.coordinates),n)},route:function(t,n){this._request("viaroute",this._formatLocs(t.coordinates),n)},table:function(t,n){this._request("table",this._formatLocs(t.coordinates),n)}},"undefined"!=typeof n&&(n.exports=e)},{corslite:1}],3:[function(t,n){var e=t("./client.js");"undefined"!=typeof n&&(n.exports=e)},{"./client.js":2}]},{},[3])(3)});